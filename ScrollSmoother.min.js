!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var _=t[r];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(e,_.key,_)}}function r(){return"undefined"!=typeof window}function _(){return $||r()&&($=window.gsap)&&$.registerPlugin&&$}function n(){return String.fromCharCode.apply(null,arguments)}function o(e){return h.maxScroll(e||c)}var i,s,a,$,l,c,f,u,d,p,g,h,v,m,y,b,w,S,T=n(103,114,101,101,110,115,111,99,107,46,99,111,109),C=n(103,115,97,112,46,99,111,109),x=(function(e){var t="undefined"!=typeof window,r=[T,C,n(99,111,100,101,112,101,110,46,105,111),n(99,111,100,101,112,101,110,46,112,108,117,109,98,105,110,103),n(99,111,100,101,112,101,110,46,100,101,118),n(99,111,100,101,112,101,110,46,97,112,112),n(99,111,100,101,112,101,110,46,119,101,98,115,105,116,101),n(112,101,110,115,46,99,108,111,117,100),n(99,115,115,45,116,114,105,99,107,115,46,99,111,109),n(99,100,112,110,46,105,111),n(112,101,110,115,46,105,111),n(103,97,110,110,111,110,46,116,118),n(99,111,100,101,99,97,110,121,111,110,46,110,101,116),n(116,104,101,109,101,102,111,114,101,115,116,46,110,101,116),n(99,101,114,101,98,114,97,120,46,99,111,46,117,107),n(116,121,109,112,97,110,117,115,46,110,101,116),n(116,119,101,101,110,109,97,120,46,99,111,109),n(112,108,110,107,114,46,99,111),n(104,111,116,106,97,114,46,99,111,109),n(119,101,98,112,97,99,107,98,105,110,46,99,111,109),n(97,114,99,104,105,118,101,46,111,114,103),n(99,111,100,101,115,97,110,100,98,111,120,46,105,111),n(99,115,98,46,97,112,112),n(115,116,97,99,107,98,108,105,116,122,46,99,111,109),n(115,116,97,99,107,98,108,105,116,122,46,105,111),n(99,111,100,105,101,114,46,105,111),n(109,111,116,105,111,110,116,114,105,99,107,115,46,99,111,109),n(115,116,97,99,107,111,118,101,114,102,108,111,119,46,99,111,109),n(115,116,97,99,107,101,120,99,104,97,110,103,101,46,99,111,109),n(115,116,117,100,105,111,102,114,101,105,103,104,116,46,99,111,109),n(119,101,98,99,111,110,116,97,105,110,101,114,46,105,111),n(106,115,102,105,100,100,108,101,46,110,101,116),].length;for(setTimeout(function e(){if(t){if("loading"===document.readyState||"interactive"===document.readyState)document.addEventListener("readystatechange",e);else{document.removeEventListener("readystatechange",e);var r="object"==typeof $?$:t&&window.gsap;t&&window.console&&!window._gsapWarned&&"object"==typeof r&&!1!==r.config().trialWarn&&(window._gsapWarned=1)}}},50);-1<--r;);}("undefined"!=typeof window?window.location.host:""),E.register=function e(t){return l||($=t||_(),r()&&window.document&&(c=window,u=(f=document).documentElement,d=f.body),$&&(p=$.utils.toArray,g=$.utils.clamp,m=$.parseEase("expo"),w=$.core.context||function(){},h=$.core.globals().ScrollTrigger,$.core.globals("ScrollSmoother",E),d&&h&&(S=$.delayedCall(.2,function(){return h.isRefreshing||v&&v.refresh()}).pause(),y=h.core._getVelocityProp,b=h.core._inputObserver,E.refresh=h.refresh,l=1))),l},i=E,s=[{key:"progress",get:function e(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}},],t(i.prototype,s),a&&t(i,a),E);function E(e){var t=this;function r(){return el.update(-es)}function _(){return z.style.overflow="visible"}function n(e){e.update();var t=e.getTween();t&&(t.pause(),t._time=t._dur,t._tTime=t._tDur),Y=!1,e.animation.progress(e.progress,!0)}function i(e,t){(e!==es&&!D||t)&&(et&&(e=Math.round(e)),eo&&(z.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",z._gsap.y=e+"px"),ea=e-es,es=e,h.isUpdating||E.isRefreshing||h.update())}function s(e){return arguments.length?(e<0&&(e=0),ec.y=-e,Y=!0,D?es=-e:i(-e),h.isRefreshing?N.update():en(e/ei),this):-es}function a(e){B.scrollTop=0,e.target.contains&&e.target.contains(B)||Z&&!1===Z(t,e)||(h.isInViewport(e.target)||e.target===K||t.scrollTo(e.target,!1,"center center"),K=e.target)}function T(e,t){if(e<t.start)return e;var r=isNaN(t.ratio)?1:t.ratio,_=t.end-t.start,n=e-t.start,i=t.offset||0,s=t.pins||[],a=s.offset||0,$=t._startClamp&&t.start<=0||t.pins&&t.pins.offset?0:t._endClamp&&t.end===o()?1:.5;return s.forEach(function(t){_-=t.distance,t.nativeStart<=e&&(n-=t.distance)}),a&&(n*=(_-a/r)/_),e+(n-i*$)/r-n}function C(e,t){I.forEach(function(r){return function e(t,r,_){_||(t.pins.length=t.pins.offset=0);var n,o,i,s,a,l,c,f,u=t.pins,d=t.markers;for(c=0;c<r.length;c++)if(f=r[c],t.trigger&&f.trigger&&t!==f&&(f.trigger===t.trigger||f.pinnedContainer===t.trigger||t.trigger.contains(f.trigger))&&(a=f._startNative||f._startClamp||f.start,l=f._endNative||f._endClamp||f.end,i=T(a,t),s=f.pin&&0<l?i+(l-a):T(l,t),f.setPositions(i,s,!0,(f._startClamp?Math.max(0,i):i)-a),f.markerStart&&d.push($.quickSetter([f.markerStart,f.markerEnd],"y","px")),f.pin&&0<f.end&&!_)){if(n=f.end-f.start,o=t._startClamp&&f.start<0){if(0<t.start)return t.setPositions(0,t.end+(t._startNative-t.start),!0),void e(t,r);n+=f.start,u.offset=-f.start}u.push({start:f.start,nativeStart:a,end:f.end,distance:n,trig:f}),t.setPositions(t.start,t.end+(o?-f.start:n),!0)}}(r,e,t)})}function x(){_(),requestAnimationFrame(_),I&&(h.getAll().forEach(function(e){e._startNative=e.start,e._endNative=e.end}),I.forEach(function(e){var t=e._startClamp||e.start,r=e.autoSpeed?Math.min(o(),e.end):t+Math.abs((e.end-t)/e.ratio),_=r-e.end;if((r-=_/2)<(t-=_/2)){var n=t;t=r,r=n}e._startClamp&&t<0?(_=(r=e.ratio<0?o():e.end/e.ratio)-e.end,t=0):(e.ratio<0||e._endClamp&&r>=o())&&(_=((r=o())-(t=e.ratio<0||1<e.ratio?0:r-(r-e.start)/e.ratio))*e.ratio-(e.end-e.start)),e.offset=_||1e-4,e.pins.length=e.pins.offset=0,e.setPositions(t,r,!0)}),C(h.sort())),el.reset()}function P(){return h.addEventListener("refresh",x)}function k(){return I&&I.forEach(function(e){return e.vars.onRefresh(e)})}function R(){return I&&I.forEach(function(e){return e.vars.onRefreshInit(e)}),k}function A(e,t,r,_){return function(){var n="function"==typeof t?t(r,_):t;n||0===n||(n=_.getAttribute("data-"+e_+e)||("speed"===e?1:0)),_.setAttribute("data-"+e_+e,n);var o="clamp("===(n+"").substr(0,6);return{clamp:o,value:o?n.substr(6,n.length-7):n}}}function L(e,t,r,_,n){function i(){t=b(),r=parseFloat(w().value),l=parseFloat(t.value)||1,v=(d="auto"===t.value)||f&&f._startClamp&&f.start<=0||C.offset?0:f&&f._endClamp&&f.end===o()?1:.5,p&&p.kill(),p=r&&$.to(e,{ease:m,overwrite:!1,y:"+=0",duration:r}),f&&(f.ratio=l,f.autoSpeed=d)}function s(){T.y=S+"px",T.renderTransform(1),i()}function a(t){if(d){s();var r,_,n,o,i,a,$,f,h,v,m,b=(r=e,_=g(0,1,-t.start/(t.end-t.start)),i=r.parentNode||u,a=r.getBoundingClientRect(),f=($=i.getBoundingClientRect()).top-a.top,m=-(v=(Math.abs(f)>Math.abs(h=$.bottom-a.bottom)?f:h)/(1-_))*_,0<v&&(o=.5==(n=$.height/(c.innerHeight+$.height))?2*$.height:2*Math.min($.height,Math.abs(-v*n/(2*n-1)))*(_||1),m+=_?-o*_:-o/2,v+=o),{change:v,offset:m});E=b.change,y=b.offset}else y=C.offset||0,E=(t.end-t.start-y)*(1-l);C.forEach(function(e){return E-=e.distance*(1-l)}),t.offset=E||.001,t.vars.onUpdate(t),p&&p.progress(1)}n=("function"==typeof n?n(_,e):n)||0;var l,f,d,p,v,y,b=A("speed",t,_,e),w=A("lag",r,_,e),S=$.getProperty(e,"y"),T=e._gsap,C=[],x=[],E=0;return i(),(1!==l||d||p)&&(a(f=h.create({trigger:d?e.parentNode:e,start:function e(){return t.clamp?"clamp(top bottom+="+n+")":"top bottom+="+n},end:function e(){return t.value<0?"max":t.clamp?"clamp(bottom top-="+n+")":"bottom top-="+n},scroller:B,scrub:!0,refreshPriority:-999,onRefreshInit:s,onRefresh:a,onKill:function e(t){var r=I.indexOf(t);0<=r&&I.splice(r,1),s()},onUpdate:function e(t){var r,_,n,o,i=S+E*(t.progress-v),s=C.length,a=0;if(t.offset){if(s){for(n=-es,o=t.end;s--;){if((_=C[s]).trig.isActive||n>=_.start&&n<=_.end)return void(p&&(_.trig.progress+=_.trig.direction<0?.001:-.001,_.trig.update(0,0,1),p.resetTo("y",parseFloat(T.y),-ea,!0),e$&&p.progress(1)));n>_.end&&(a+=_.distance),o-=_.distance}i=S+a+E*(($.utils.clamp(t.start,t.end,n)-t.start-a)/(o-t.start)-v)}x.length&&!d&&x.forEach(function(e){return e(i-a)}),i=Math.round(1e5*(r=i+y))/1e5||0,p?(p.resetTo("y",i,-ea,!0),e$&&p.progress(1)):(T.y=i+"px",T.renderTransform(1))}}})),$.core.getCache(f.trigger).stRevert=R,f.startY=S,f.pins=C,f.markers=x,f.ratio=l,f.autoSpeed=d,e.style.willChange="transform"),f}l||E.register($)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},v&&v.kill(),w(v=this);var z,B,H,N,I,U,V,W,j,D,O,q,F,M,Y,K,G=e.smoothTouch,J=e.onUpdate,Q=e.onStop,X=e.smooth,Z=e.onFocusIn,ee=e.normalizeScroll,et=e.wholePixels,er=this,e_=e.effectsPrefix||"",en=h.getScrollFunc(c),eo=1===h.isTouch?!0===G?.8:parseFloat(G)||0:0===X||!1===X?0:parseFloat(X)||.8,ei=eo&&+e.speed||1,es=0,ea=0,e$=1,el=y(0),ec={y:0},ef="undefined"!=typeof ResizeObserver&&!1!==e.autoResize&&new ResizeObserver(function(){if(!h.isRefreshing){var e=o(B)*ei;e<-es&&s(e),S.restart(!0)}});function eu(){return H=z.clientHeight,z.style.overflow="visible",d.style.height=c.innerHeight+(H-c.innerHeight)/ei+"px",H-c.innerHeight}P(),h.addEventListener("killAll",P),$.delayedCall(.5,function(){return e$=0}),this.scrollTop=s,this.scrollTo=function(e,r,_){var n=$.utils.clamp(0,o(),isNaN(e)?t.offset(e,_,!!r&&!D):+e);r?D?$.to(t,{duration:eo,scrollTop:n,overwrite:"auto",ease:m}):en(n):s(n)},this.offset=function(e,t,r){var _,n=(e=p(e)[0]).style.cssText,o=h.create({trigger:e,start:t||"top top"});return I&&(e$?h.refresh():C([o],!0)),_=o.start/(r?ei:1),o.kill(!1),e.style.cssText=n,$.core.getCache(e).uncache=1,_},this.content=function(e){if(arguments.length){var t=p(e||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||d.children[0];return t!==z&&(j=(z=t).getAttribute("style")||"",ef&&ef.observe(z),$.set(z,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),eo||$.set(z,{clearProps:"transform"})),this}return z},this.wrapper=function(e){var t,r;return arguments.length?(W=(B=p(e||"#smooth-wrapper")[0]||(t=z,(r=f.querySelector(".ScrollSmoother-wrapper"))||((r=f.createElement("div")).classList.add("ScrollSmoother-wrapper"),t.parentNode.insertBefore(r,t),r.appendChild(t)),r)).getAttribute("style")||"",eu(),$.set(B,eo?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):B},this.effects=function(e,t){if(I=I||[],!e)return I.slice(0);(e=p(e)).forEach(function(e){for(var t=I.length;t--;)I[t].trigger===e&&I[t].kill()});var r,_,n=(t=t||{}).speed,o=t.lag,i=t.effectsPadding,s=[];for(r=0;r<e.length;r++)(_=L(e[r],n,o,r,i))&&s.push(_);return I.push.apply(I,s),s},this.sections=function(e,t){if(U=U||[],!e)return U.slice(0);var r=p(e).map(function(e){return h.create({trigger:e,start:"top 120%",end:"bottom -20%",onToggle:function t(r){e.style.opacity=r.isActive?"1":"0",e.style.pointerEvents=r.isActive?"all":"none"}})});return t&&t.add?U.push.apply(U,r):U=r.slice(0),r},this.content(e.content),this.wrapper(e.wrapper),this.render=function(e){return i(e||0===e?e:es)},this.getVelocity=function(){return el.getVelocity(-es)},h.scrollerProxy(B,{scrollTop:s,scrollHeight:function e(){return eu()&&d.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!eo,content:z,getBoundingClientRect:function e(){return{top:0,left:0,width:c.innerWidth,height:c.innerHeight}}}),h.defaults({scroller:B});var ed=h.getAll().filter(function(e){return e.scroller===c||e.scroller===B});ed.forEach(function(e){return e.revert(!0,!0)}),N=h.create({animation:$.fromTo(ec,{y:function e(){return M=0}},{y:function e(){return M=1,-eu()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function e(){if(M){var t=Y;t&&(n(N),ec.y=es),i(ec.y,t),r(),J&&!D&&J(er)}}}),onRefreshInit:function e(t){if(!E.isRefreshing){if(E.isRefreshing=!0,I){var r=h.getAll().filter(function(e){return!!e.pin});I.forEach(function(e){e.vars.pinnedContainer||r.forEach(function(t){if(t.pin.contains(e.trigger)){var r=e.vars;r.pinnedContainer=t.pin,e.vars=null,e.init(r,e.animation)}})})}var _=t.getTween();F=_&&_._end>_._dp._time,q=es,ec.y=0,eo&&(1===h.isTouch&&(B.style.position="absolute"),B.scrollTop=0,1===h.isTouch&&(B.style.position="fixed"))}},onRefresh:function e(t){t.animation.invalidate(),t.setPositions(t.start,eu()/ei),F||n(t),ec.y=-en()*ei,i(ec.y),e$||(F&&(Y=!1),t.animation.progress($.utils.clamp(0,1,-(q/ei/t.end)))),F&&(t.progress-=.001,t.update()),E.isRefreshing=!1},id:"ScrollSmoother",scroller:c,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:function e(){return eu()/ei},onScrubComplete:function e(){el.reset(),Q&&Q(t)},scrub:eo||!0}),this.smooth=function(t){return arguments.length&&(ei=(eo=t||0)&&+e.speed||1,N.scrubDuration(t)),N.getTween()?N.getTween().duration():0},N.getTween()&&(N.getTween().vars.ease=e.ease||m),this.scrollTrigger=N,e.effects&&this.effects(!0===e.effects?"[data-"+e_+"speed], [data-"+e_+"lag]":e.effects,{effectsPadding:e.effectsPadding}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),ed.forEach(function(e){e.vars.scroller=B,e.revert(!1,!0),e.init(e.vars,e.animation)}),this.paused=function(e,t){return arguments.length?(!!D!==e&&(e?(N.getTween()&&N.getTween().pause(),en(-es/ei),el.reset(),(O=h.normalizeScroll())&&O.disable(),(D=h.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function e(){return s(-es)}})).nested=b(u,"wheel,touch,scroll",!0,!1!==t)):(D.nested.kill(),D.kill(),D=0,O&&O.enable(),N.progress=(-es/ei-N.start)/(N.end-N.start),n(N))),this):!!D},this.kill=this.revert=function(){t.paused(!1),n(N),N.kill();for(var e=(I||[]).concat(U||[]),r=e.length;r--;)e[r].kill();h.scrollerProxy(B),h.removeEventListener("killAll",P),h.removeEventListener("refresh",x),B.style.cssText=W,z.style.cssText=j;var _=h.defaults({});_&&_.scroller===B&&h.defaults({scroller:c}),t.normalizer&&h.normalizeScroll(!1),clearInterval(V),v=null,ef&&ef.disconnect(),d.style.removeProperty("height"),c.removeEventListener("focusin",a)},this.refresh=function(e,t){return N.refresh(e,t)},ee&&(this.normalizer=h.normalizeScroll(!0===ee?{debounce:!0,content:!eo&&z}:ee)),h.config(e),"overscrollBehavior"in c.getComputedStyle(d)&&$.set([d,u],{overscrollBehavior:"none"}),"scrollBehavior"in c.getComputedStyle(d)&&$.set([d,u],{scrollBehavior:"auto"}),c.addEventListener("focusin",a),V=setInterval(r,250),"loading"===f.readyState||requestAnimationFrame(function(){return h.refresh()})}x.version="3.12.3",x.create=function(e){return v&&e&&v.content()===p(e.content)[0]?v:new x(e)},x.get=function(){return v},_()&&$.registerPlugin(x),e.ScrollSmoother=x,e.default=x});